sudo: false
os:
- linux
addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    packages:
    - gcc-4.9
    - g++-4.9
    - uuid-dev
language: node_js
node_js:
- '7'
- '6'
env:
  global:
  - CXX=g++-4.9
  - CC=gcc-4.9
  matrix:
  - ZMQ="4.1.6" ZMQ_REPO="zeromq4-1"
before_install:
- mkdir ldlocal
- export LDHACK=`pwd`/ldlocal
- export LD_RUN_PATH=$LDHACK/lib
- export LD_LIBRARY_PATH=$LDHACK/lib
- export PKG_CONFIG_PATH=$LDHACK/lib/pkgconfig
- wget https://github.com/zeromq/$ZMQ_REPO/releases/download/v$ZMQ/zeromq-$ZMQ.tar.gz
- tar xzvf zeromq-$ZMQ.tar.gz
- cd zeromq-$ZMQ
- ./autogen.sh
- ./configure --prefix=$LDHACK --without-libsodium
- make -j
- make install
- cd ..
before_script:
- npm install -g gulp
script: gulp
notifications:
  slack:
    rooms:
      secure: JfTyn1Z5jBi4WqA78Jn5T2RupSz6Lhztn/0QdNJOVjusJj1pq3Q1SmBcfJtwRdgYStOWDnKgVFlEONyJwKi0ieBSWZr/343tAMciQJENS8qTz91oPNyQFzPeuLgNlu2p4Jtuhjxek+gsY8cRP2+3HbMhILUJ8wMB1JK07VzaeBxkY3QEksWUtdhKBhzvqO4l2z5DN2MbGGgONNT/sQgLAjTEchBIICAgbP0iBi+D73MuLAwi2POscXZIzOKcn07Rsz1kig8tg516oGbri0MBFEULNSpnBxUdYjEgTNhRqNwixqi9aL4DNwXNEVkU9ZaaJiOkHwT6D9rAaZB4BUKB/gB47tvMIEZvxaxfv7P9o+lUS6WtJ5uxuo/PY4k1qfs6jcljg3N8PTCovYbLiwmHTjqA1Cm0eK/bJsmY/VvBhkli2YrJVdK1l34XTIxAjeEp4gb/7w8aPt2P7CdIOzToPNZ6OIu2ZjrT3gWjf5UN5awCnmzz0E2BhfPjUHJVmOWk5jZtJROF/83hzMJ/HemhlYYTU5kTIf7aW/gMu19NxPCTbgU2P29uZi9muftkGAyJB83TGUziJd89Cfz2lHswh0hiPNeR8xbCVBN3SZI3iW0kA9TmBo3UYIVDThgn2m+vbMortkj8tT6thjTLBZk2vItAgSx9TBySXgfBWPvyrJA=
